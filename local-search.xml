<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>记录一下装arch遇到的一些问题</title>
    <link href="/2022/01/20/%E8%AE%B0%E5%BD%95%E4%B8%80%E4%B8%8B%E8%A3%85arch%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/"/>
    <url>/2022/01/20/%E8%AE%B0%E5%BD%95%E4%B8%80%E4%B8%8B%E8%A3%85arch%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>Arch wiki yyds！</p><p>这篇主要记录一下自己遇到问题（还是应该以wiki为主）。<span id="more"></span></p><h4 id="1-双系统"><a href="#1-双系统" class="headerlink" title="1    双系统"></a>1    双系统</h4><p>我是windows和arch linux装在一块硬盘里，除了要装grub，efibootmgr以外，还要装ntfs-3g和os-prober。ntfs-3g是读写ntfs的驱动，os-prober用于检测windows系统。</p><figure class="highlight shell"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs shell">sudo pacman -S os-prober ntfs-3g<br></code></pre></td></tr></table></figure><p>arch wiki指出要<a href="https://wiki.archlinux.org/title/GRUB#Configuration">编辑/etc/default/grub</a>，将<code>GRUB_DISABLE_OS_PROBER=false</code>注释去掉才能，检测到windows系统。</p><p>接下来执行，<em>esp</em>指的是你的启动分区，比如我的就是/boot。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB<br></code></pre></td></tr></table></figure><p>接下来要生成grub.cfg文件，由于双系统启动，所以先要将windows盘挂上。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">mount /dev/nvme0n1p4 /mnt/windows<br>grub-mkconfig -o /boot/grub/grub.cfg<br></code></pre></td></tr></table></figure><p>然后reboot就可以看到两个启动项了。</p><p><del>虽然我第一次装的时候死活搞不出Arch启动项，可以看<a href="https://wiki.archlinux.org/title/GRUB#GNU/Linux">wiki</a>自己写一个。</del></p><h4 id="2-键盘"><a href="#2-键盘" class="headerlink" title="2    键盘"></a>2    键盘</h4><p>我用外接键盘，当我按下F区键时，没有应答。应该是要禁用fn键。</p><p>网上一顿乱搜，找到了<a href="https://www.hashbangcode.com/article/turning-or-fn-mode-ubuntu-linux">教程</a>。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">echo options hid_apple fnmode=0 | sudo tee -a /etc/modprobe.d/hid_apple.conf<br></code></pre></td></tr></table></figure><p>reboot就完事了。</p><h4 id="3-git"><a href="#3-git" class="headerlink" title="3    git"></a>3    git</h4><p>使用git clone时出现报错，以及之前git push的时候也会出现这个情况。在之前网上简单搜索了一下，是因为开了代理。</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">Cloning <span class="hljs-keyword">into</span> <span class="hljs-string">&#x27;xxxxx&#x27;</span>...<br>kex_exchange_identification: Connection closed <span class="hljs-keyword">by</span> remote host<br>Connection closed <span class="hljs-keyword">by</span> <span class="hljs-number">20.205</span><span class="hljs-number">.243</span><span class="hljs-number">.166</span> port <span class="hljs-number">22</span><br>fatal: Could <span class="hljs-keyword">not</span> <span class="hljs-built_in">read</span> <span class="hljs-built_in">from</span> remote repository.<br><br>Please make sure you have <span class="hljs-keyword">the</span> correct access rights <span class="hljs-keyword">and</span> <span class="hljs-keyword">the</span> repository exists.<br></code></pre></td></tr></table></figure><p>现在我嫌开关代理太麻烦了，经过一顿搜索，找到了一个其他的方法。</p><p>在<code>~/.ssh</code>下创建<code>config</code>文件。</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus">Host github<span class="hljs-selector-class">.com</span><br> Hostname ssh<span class="hljs-selector-class">.github</span><span class="hljs-selector-class">.com</span><br> Port <span class="hljs-number">443</span><br></code></pre></td></tr></table></figure><p>具体啥原理我也不知道，等我学了计算机网络再来吧（）。</p><h4 id="4-开机卡在-dev-nvme0n1p6-clean-files-blocks"><a href="#4-开机卡在-dev-nvme0n1p6-clean-files-blocks" class="headerlink" title="4    开机卡在/dev/nvme0n1p6 clean */* files */* blocks"></a>4    开机卡在<code>/dev/nvme0n1p6 clean */* files */* blocks</code></h4><p>网上查了一下，应该是检查文件。网上的一位老哥给出了一个解决方法，进入<code>grub</code>的时候，按<code>e</code>，将<code>quiet</code>，我认为这应该解决不了问题，但还是尝试了一下。结果是启动的时候，找不到有线网卡，恩是找了90s。</p><blockquote><p>a starting job is running for /sys/subsystem/net/devices/enp1s0 (**/ 1min 30s)</p></blockquote><p>然后再一顿搜索，找到一个<a href="https://bbs.archlinux.org/viewtopic.php?id=222733">相关问题</a>。</p><p>用<code>find  /etc/systemd</code>查找一下，发现果然有一个。</p><p>用<code>ip link</code>对照了一下，应该是打错，，</p><p>其实替换了以后，还是会出现上面那个字样，但是很快就检查完了XD。</p><h4 id="5-wpa-supplicant相关问题"><a href="#5-wpa-supplicant相关问题" class="headerlink" title="5    wpa_supplicant相关问题"></a>5    wpa_supplicant相关问题</h4><p>首先是<code>wpa_cli</code>下<code>scan</code>没有效果，</p><p>网上也找到了<a href="https://bbs.archlinux.org/viewtopic.php?id=234877">解决方法</a>，</p><p><code>wpa_cli</code>指定的interface出现了问题，每次输入命令的时候指定就好了。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo wpa_cli -i wlp2s0<br></code></pre></td></tr></table></figure><h4 id="6-浏览器画面撕裂问题"><a href="#6-浏览器画面撕裂问题" class="headerlink" title="6    浏览器画面撕裂问题"></a>6    浏览器画面撕裂问题</h4><p>gpu是amd的核显，驱动也装了。<a href="https://www.jianshu.com/p/01d41ced5903">解决方案</a></p><p>创建文件<code>/etc/X11/xorg.conf.d/20-amdgpu.conf</code>，添加一下内容，即可</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-meta">Section</span> <span class="hljs-string">&quot;Device&quot;</span><br>     Identifier <span class="hljs-string">&quot;AMD&quot;</span><br>     Driver <span class="hljs-string">&quot;amdgpu&quot;</span><br>     <span class="hljs-meta">Option</span> <span class="hljs-string">&quot;TearFree&quot;</span> <span class="hljs-string">&quot;true&quot;</span><br>EndSection<br></code></pre></td></tr></table></figure><h4 id="7-触摸板设置"><a href="#7-触摸板设置" class="headerlink" title="7    触摸板设置"></a>7    触摸板设置</h4><p>触摸板轻点不能单击，以及右键失灵。</p><p>首先要下载<code>libinput</code>，</p><p>创建<code>/etc/X11/xorg.conf.d/30-touchpad.conf</code>文件，</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">Section &quot;InputClass&quot;<br>  Identifier &quot;touchpad&quot;<br>  Driver &quot;libinput&quot;<br>  MatchIsTouchpad &quot;on&quot;<br>  OPtion &quot;Tapping&quot; &quot;on&quot;<br>  Option &quot;TappingButtonMap&quot; &quot;lmr&quot;<br>EndSection<br></code></pre></td></tr></table></figure><p><code>&quot;Tapping&quot;</code>应该指的是轻触单击，</p><p><code>&quot;TappingButtonMap&quot;</code>设置单指二指三指这些的，<code>&quot;lmr&quot;</code>指的是<code>left``middle``right</code>对应单指二指三指。</p><h4 id="8-DNS"><a href="#8-DNS" class="headerlink" title="8    DNS"></a>8    DNS</h4><p>经常出现无法访问某些网站的情况，即便开了代理，如 <a href="https://sp18.datastructur.es/">https://sp18.datastructur.es/</a></p><p>修改DNS方案很多，一开始我直接修改<code>/etc/resolv.conf</code>，修改完<code>cat</code>还是原来的，看了wiki才知道<code>dhcpcd</code>会自动覆盖<code>resolv.conf</code>，发现<code>chattr</code>也不太用的明白……就选择了让dhcpcd指定分配DNS。<a href="https://wiki.archlinux.org/title/Dhcpcd#/etc/resolv.conf">详见wiki</a></p><p>编辑<code>/etc/dhcpcd.conf</code>，在最后添加</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">static domain_name_servers=8.8.8.8 8.8.4.4<br></code></pre></td></tr></table></figure><p>即可。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">dig bilibili.com<br></code></pre></td></tr></table></figure><p>可以检查一下。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>19</title>
    <link href="/2021/12/25/19/"/>
    <url>/2021/12/25/19/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="密码错误" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="c50b85c6cd7c6feeb2ee2d1705d9e04262e08795975b5a1671022e17192fa498">04b7c6c2abae2561feb2d616c1d3b76cfcd66b8eb983a34538671003a86e9a723fad35b47f9310e0b7c909f80a97b024c2cc3f1d12d5d3a0d55b80fc34de68d53514838f544485bf31858911dcfa9749943c720cc77580eec8e5adad2103eb758cda083900f3bb8ca35e5fa1ce178e9fdd7dc4b3b53b62dbf69e99957108111b0d1b42b86f8c826358de2488fcaf523b0dba4953920ec1201b6882b8fa3e82aba604b24e248c50853931d02d2c587ead7e91bf5c20205d28bc2a0f99e9b7f6f57a168e72ad6038b1c27c941ba0504878cba04c8e8ca0b2d1f038e081582e3b9342331484b27681879c9a1e5d59654433f67f285846839e774a87960345cad93fcfe2f2238d8cc9913a1204457adcebe37dcbaee056d04e2e1e97cfb2b5ff9e6f21e61ec31dfa46504caa5be4f32ea3ddd83748b67051a05b17cb76fda6392c378379d7e39fe177c734eb999fd128c75bb6fc26126ab285e9efd5bffa906aefd0a3e13665541ef6ec9fb4910cc7b8f6733e377811bb50b193126336fdeaddcce7d24329d2c8a7af0b64e82a090a31e056ce606b64bc302923e831cd71b9111c84b18cc14344316cbd96ef37b31d78441b121a91a59c78d608671615c5814d257f8590e4ca63d5ebe31e94e4817eed51310c855a2dbffae79bbdb8195f8f4a7e7cee03de7577c9c49240b816c0c272c2f9ed75ba5196798284491fb7fe457679e7e848fd154e56d72b3f1ae9afee46af5338aaf58cc160e339043f68948f117d37eaa56d5b429f873a1fc8ecca1ac49605c21506be3885600e63badaffd00eb2abf14a53b96b07a065c8c49b03eaa994188d8deab32076dbedb00e6d2c3c85c8131f24e9034e8c91f42bd20ae02860b47b18c9ab72f83511230a51a67a108374f94019ca755ce1a80c4bfbeebf60d05dd93f6c5314828842ee4d414974d55df26fbe164781a50710a31b056320d0076d842d9515ac984a07f1b6d737b6967b38148bdfcdd95bcda46d5b7027cd77beb5472451d113596b4bab1834b2149028382246fe9150c2f1694b0b8516df0e86f2f40efd20191ac6e289db9fed1e90976f239fdde1ebc29123910c900f15fd82e00cc9f4ab92190b250c1f1b3c970dd45a10f92b06b4f1825a6e21070c9c08c17a382a3f92c7d52b486f4984f452218ad70b0284eda30732c45e18d6f6365bcb2e008da2134cbffb625edd0ebce4630f3e9371040cf4a6bee36ffb9a9d40a4c155127c6b8a9dcc214ad35fe6f6b3ce64faaecc67f3e208f79db42052319f091abc8a82b4e4c752f67d9c277d645105030ff0580faaa984f182d0370d95df931f2c4ae5036f27ba556a6b84da50634fe53d19240e4816a121642ab055c662fac98096391c60ba1b6d4b7dedb2b002ea51d3c0a86eb0ad86f0fb2b3d80f7d69c50a15bb4c7d10930658a48c054caa68068e96b73f9f0d29571392f21c524e426ff70f29620facd7f04e18d0a5c1545ad844743d0ee0f996dc9e8147b1bdee0a05a2bf2e491d6e269056456745c1a299103dfb178457fbe58704ecc23fd3fbfd5895b84d96f2367a0ad13c719992f7fbacb680c53df8d84738b031eba10c39dec93e4621a4cd78bda7d8b962ec5895fca50222a62ea0755e5ab40eab6df7bd65ce86031b237404dd4abf36517df0619b9a07e14ab2d93856d27888f49beb9b02c30db47fba475586f5d7a0761bf4f9144077b2ec6665d2c6c0da1e85f06db71bea4c7f30674e67a7245fd2617f865f120974d771794556972810f33877521fd4708ccc629e09446efcc97a14e176ab96292c88fccc0671c6192c66fa72ef972b9ef6273e9f8c809dd435d23801d801d99e22733ef91d71ba4c6d61574f32aa34b4dffb7c2aebecd933bfc245e21b18ddf8cc9ea67747c10283c777bba788e81f2082bfe6a99b6234bf6cf4ce4668f0f28bb5feebaf0b623a76ac340160c73c1eab3257b0c729d9e3c2350e7e002067e8fb5069bf42d425044d7e75f5a6d72aaad9086ae0cdc9b33f595c4dec438ea1f9906b9d67296f1a571a6b091a0b9a2dd9e366909fcc8e1d84e990145b24bdb4b158acf50a4a9f1ff9da938eaee3bdaefedb6834cf758dcc600bf09c39b55fd881139bb89d9b102e7df59a30b31f1de90502f0b7c0d644e242ba092ecfe9b47f08c5eca54213c656f6303ae58ec3eaba7d82035952ce3c00afaae57731410e50bcec3d43a942523747cd98656d1f053696b16ca03780efede70756f6344f776d7fcc9fdf5e50e60f0d268f6af3997992e3c6f80e4666dfa446fd4d479b042e9c6a562832f9db3d65dc2eb6f5443062d9b3c8da30868e7128fbb13b3a82b055b898329017970fb57fc23f68aff718c8e061ebd8928b8c9763dbb378ba12bf68deddea60a7f8339dd78b9d4f73ed05377795b7bf04026b7a856494b472e4314ee609a7d83496d8b58e5ae96cfb6f5b0229bd5ea1f8365fb41c586412e97aade686a08f785ff65550b32f5746071e8fec27f549c30f02092e2061ac47c49b34b73c3e2823414561d425b58ac55f3854eb088f0c1c883ef3015d02576a550ce3e2fbb76975b57f7a79275fc0a1b3cdf094cba8ad37fa550357aa2d7fbf88ae44e165951f2a1d72e8af9a3ab5ebdce75e21cfde3a41129d8594e6dcf762b7938b2006ce62f915473aa73b1c69e785c71bd171178f340533090f89df2ad7024bec923fc737af575160b02a4bfa252506f1770b41830084758899aa504d6a40a73877ae0d7731dd34d496f5f302bfa0131aa9ab41df5c9f429829949be509e8dd61632b577d5612c7217ccf908d06b204db24ec0a5bdb16ab4c4b791ba8124a14720ef86c46b3b4cd01dbeedd3f9c5fedaff266dd8f0c72b8714a8608039976659e2c4656d97ff0e41aaf859e67cfb0da38d7a7e7e2ea93170043468d872e7b2e7e46613ef2af8b64434db3187a951fb5cb4ca8d3f190c87c89b532f9b12fa4f348d853b96f10d36213b6a8aba887b3a2718145c0bf709cd140757df1007fc8c8e3b17ea9c5d2e1132f17f1b76b5131f8934caa026e05584ce3175a2a38c1395ccef5eb79f9c14ebd1d7fb7c18e95118d11005b073c1610c1d87da7409011466e69863ac34d749602b367ded7fde52f6a6587cacd78c61f51da4a5890958979b9b77fa2342c222edf216c52c7d5e28bebee4147b19703cf888743cf99e830c38ea92f4ce36e19c3740b7008cf3acf0df644618704ee856e65d42aa38701571752dd35c6b46eec934c3418164a7437a36057d896087033ba22fad9478783127f1135157e3d624ec0ff50c4666da29e03c857fe3e5e3a6aa16ae42a12d67a87e5bd0f7e92a3c7262b77a4fdd437762e540a5c1a9364547aefba8f4930a31228f7c9767b6cf8fe252ef4bd4eeef49779b6601ac7a932769ec77e8c91bc15cd1f41db44098b536439f5814eef4f3ac1e0d26fedbc345d302353bd141dbbb8935d7837ac2efee4e0965e72302e0b7f9106b8cca4d63716ccba14e1bd7eae169c3bbfc47e9a37a9f0a385fdab844b0d51e71c03f9f0222d2c78b6d4b3a56c5fa4d874a55dd24f150d69df57232dcdfa552d5e3460c15774fbf11dc73a38256af264c5c16f09fab784faa80def4ccdc1ce63baf31711220ba70bf263b4a22162d8c26bc0bf5c1f035d02d53b954671bc981eeecef6e57ccbd6c4e58f9d9cb6ef9fb8cea9b000f4e36eb2559ee882acab4bb60105d980e65597b56f6e024d26a1ae6e253efa338a431b56a604a327cce3382aa12d94b704a3b2185deb8b9da7493ca231be65a740e464427cce47d915f1985824207eace7f31e4aabf49fe029d4ceda9eec00ad70b788599cb28a15dabe1b7dccfab89863fb00e682dcf282175585a03d0baffa9484b23d3db484bf14df8756694b7e903a944e007c2ea14aa51398c8b57f3a612dc903f0ae82018334150aa2d71c7c65c54cb1e0bd4890eb7f223f167a2b05b6ce604ba1aab4a9f2dc7a6ef70481c551bfb6ee0aa7db7088db4d32812eb38e6de17b55942ce128ba92248573e2213baf5806b7b5b1c47173ff18de876322c483bcee26a72d6c608af3719e1d45e33cabf64f41dc631da01c9f17cbf7794002966c25cd1f5ea3e91a40ef12a0277d51737aef245ca6a8970688b3787f7bdff93f6c342f37b467b5efac6c704a4eb56e985a95ac067d89f01bbdf4140168e766eabe05956f0a0b2c02c1ca0bf90ce41acdebe6f9223bed77c95d9d92ad964b33fe1aae8ed22926696dc41f474166230e39c613eaf9ce480b4019e46ea8ea73d3f5fd7fb74ec3e9b01d9dfd2fc1dad47d36dc233b9b185</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">高中我的学号是</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>C语言字符串&amp;const踩坑</title>
    <link href="/2021/12/21/C%E8%AF%AD%E8%A8%80%E5%AD%97%E7%AC%A6%E4%B8%B2&amp;const%E8%B8%A9%E5%9D%91/"/>
    <url>/2021/12/21/C%E8%AF%AD%E8%A8%80%E5%AD%97%E7%AC%A6%E4%B8%B2&amp;const%E8%B8%A9%E5%9D%91/</url>
    
    <content type="html"><![CDATA[<p>由于我还是刚入门的…本篇博客可能会有错误，欢迎各位大佬指正。<span id="more"></span></p><h4 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h4><p>你院C语言课程发了一张2019年的卷子，上面有这样一道题：</p><blockquote><p>设有声明 <code>char *const sp[2] = &#123;&quot;I&quot;, &quot;Love&quot;&#125;; const char *const p[2] = &#123;&quot;XXXX&quot;, &quot;SCSE&quot;&#125;;</code>则下列说法正确的是 [  ]</p><p>4个选项都是关于<code>sp[0][0]</code>与<code>p[0][0]</code>是否能被改变这个问题。</p></blockquote><p>我老菜鸡了，选了<code>sp[0][0]</code>能改，但是<code>p[0][0]</code>不能改，果不其然错了。</p><p>其实我内心是不服的，毕竟我在电脑上跑过。</p><p>借这个机会，好好梳理一下<code>const</code>这个玩意，顺便练习写一下markdown格式的文章XD。</p><!-- more --><h4 id="const与指针"><a href="#const与指针" class="headerlink" title="const与指针"></a><code>const</code>与指针</h4><p>我们都知道</p><p><code>const a[2] = &#123;1, 2&#125;;</code></p><p>代表a这个数组的值是无法改变的。</p><p>但是当<code>const</code> 和指针在一起时，事情开始变得有些复杂了。</p><figure class="highlight c"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">int</span> n = <span class="hljs-number">2</span>, m = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> * a = &amp;n;<br><span class="hljs-keyword">int</span> * <span class="hljs-keyword">const</span> b = &amp;n;<br>*a = <span class="hljs-number">1</span>;<span class="hljs-comment">//不合法</span><br>b = &amp;m;<span class="hljs-comment">//不合法</span><br></code></pre></td></tr></table></figure><p>通过<code>a</code>不能修改<code>n</code>的值，是常量指针；</p><p><code>b</code>所指向的地址，也就是<code>b</code>的值不能改变，是指针常量。</p><p>翁恺老师曾经讲过永远是<code>const</code>后面那个东西不能改变。</p><p>当一切变得复杂起来时，这也适用。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">char</span> * <span class="hljs-keyword">const</span> str1[<span class="hljs-number">2</span>] = &#123;<span class="hljs-string">&quot;ABC&quot;</span>, <span class="hljs-string">&quot;abc&quot;</span>&#125;;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * str2[<span class="hljs-number">2</span>] = &#123;<span class="hljs-string">&quot;123&quot;</span>, <span class="hljs-string">&quot;321&quot;</span>&#125;;<br></code></pre></td></tr></table></figure><p>首先<code>str1</code>，<code>str2</code>是指针数组，数组里面存放着指向<code>char</code>类型的指针。</p><p>根据翁恺老师所讲的，<code>str1[2]</code>不能改变，也就是指向的地址不能被改变；<code>*str2[2]</code>不能改变，也就是指向的字符串不能被改变。</p><h4 id="回到问题"><a href="#回到问题" class="headerlink" title="回到问题"></a>回到问题</h4><p>说到这里，好像上面那道题的答案已经呼之欲出了，不就是「<code>sp[0][0]</code>能改，但是<code>p[0][0]</code>不能改」吗？</p><p>我当时也是这么想的，并且在机子上编译了一下，发现与我的预期相符，于是放心地填上了答案XD。</p><p>今天，我又重新研究了一下，发现运行一下就会出现<code>Segementation fault</code>…</p><p>上面的说法并没有错，但是出现了另外一个问题。</p><p>考虑下面这段代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">char</span> * str = <span class="hljs-string">&quot;Hello World&quot;</span>;<br>str[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;h&#x27;</span>;<br></code></pre></td></tr></table></figure><p>在这种情况下，也会出现<code>Segementation fault</code>。</p><p>经过一番查阅，在stack overflow论坛上找到了<a href="https://stackoverflow.com/questions/15970171/why-can-i-assign-a-string-literals-to-a-char-pointer">答案</a>。</p><blockquote><p>String literals are, indeed, constant. </p></blockquote><p><code>String literals</code>被看作常量，是<code>const</code>自然不能被修改。</p><p>好啦，这个问题就解决啦，希望C语言能考高分XD。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2021/12/18/Hello-World/"/>
    <url>/2021/12/18/Hello-World/</url>
    
    <content type="html"><![CDATA[<p>墨迹好久，终于开通blog。</p><p>在这里记录一下生活吧！</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
